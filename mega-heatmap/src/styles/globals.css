@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * BUNNY INTEL — Global Styles
 * aesthetic: dark quant terminal
 * palette: midnight violet × beige × spring green
 */

@layer base {
  :root {
    /* ── Surfaces ───────────────────────────────── */
    --color-bg:              #3b252c;
    --color-surface:         #2d1b22;
    --color-surface-raised:  #3f2830;
    --color-border:          rgba(174, 164, 191, 0.15);
    --color-border-strong:   rgba(174, 164, 191, 0.28);

    /* ── Text ───────────────────────────────────── */
    --color-text:            #f5f8de;
    --color-muted:           #aea4bf;
    --color-dim:             #8f6593;

    /* ── Accent (Light Green) ───────────────────── */
    --color-accent:          #84e296;
    --color-accent-hover:    #6dd485;
    --color-accent-dim:      rgba(132, 226, 150, 0.1);

    /* ── Status ─────────────────────────────────── */
    --color-error:           #ff7b7b;
    --color-warning:         #e8c37a;

    /* ── Heatmap — violet scheme (default) ──────── */
    --heat-0: #3b252c;
    --heat-1: #5e3c4a;
    --heat-2: #8f6593;
    --heat-3: #aea4bf;
    --heat-4: #84e296;
  }

  ::selection {
    background-color: rgba(132, 226, 150, 0.2);
    color: var(--color-text);
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-feature-settings: "rlig" 1, "calt" 1, "ss01" 1;
  }

  *:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-bold tracking-tight;
    color: var(--color-text);
  }
}

@layer components {

  /* ── CARDS ─────────────────────────────────────────── */

  .card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    @apply rounded-lg transition-colors duration-150;
  }

  .card:hover {
    border-color: var(--color-border-strong);
  }

  /* glass-card → alias for .card (fixes orphaned class across all components) */
  .glass-card {
    @apply card;
  }

  .card-elevated {
    background-color: var(--color-surface-raised);
    border: 1px solid var(--color-border);
    @apply rounded-lg;
  }

  /* Project card with accent hover */
  .project-card {
    @apply card p-5 block cursor-pointer;
  }

  .project-card:hover {
    border-color: var(--color-accent);
    box-shadow: 0 0 0 1px var(--color-accent-dim);
  }

  /* ── STAT CARD ─────────────────────────────────────── */

  .stat-card {
    @apply card p-6;
    position: relative;
    overflow: hidden;
  }

  .stat-value {
    @apply text-4xl font-bold tabular-nums tracking-tight font-mono;
    color: var(--color-text);
  }

  .stat-label {
    @apply text-xs mt-1 uppercase tracking-wider font-semibold;
    color: var(--color-muted);
  }

  /* ── BUTTONS ───────────────────────────────────────── */

  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-5 py-2.5 rounded-lg font-semibold text-sm;
    @apply transition-all duration-150;
  }

  .btn:active {
    transform: translateY(1px);
  }

  /* Primary — accent green, dark text, strong contrast */
  .btn-primary {
    @apply btn;
    background-color: var(--color-accent);
    color: var(--color-bg);
  }

  .btn-primary:hover {
    background-color: var(--color-accent-hover);
    box-shadow: 0 0 20px rgba(132, 226, 150, 0.2);
  }

  .btn-primary:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  /* Secondary — outlined */
  .btn-secondary {
    @apply btn;
    background-color: transparent;
    color: var(--color-text);
    border: 1px solid var(--color-border-strong);
  }

  .btn-secondary:hover {
    border-color: var(--color-accent);
    color: var(--color-accent);
  }

  .btn-secondary:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  /* Ghost — minimal */
  .btn-ghost {
    @apply btn;
    background-color: transparent;
    color: var(--color-muted);
    border: 1px solid transparent;
  }

  .btn-ghost:hover {
    color: var(--color-text);
    border-color: var(--color-border-strong);
  }

  /* ── INPUTS ─────────────────────────────────────────── */

  .input {
    @apply w-full px-4 py-2.5 rounded-lg text-sm;
    background-color: var(--color-surface);
    border: 1px solid var(--color-border-strong);
    color: var(--color-text);
    @apply placeholder:text-[color:var(--color-dim)];
    @apply transition-all duration-150;
  }

  .input:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px var(--color-accent-dim);
  }

  /* ── NAV ────────────────────────────────────────────── */

  .nav-link {
    color: var(--color-muted);
    @apply text-sm font-medium transition-colors duration-150;
  }

  .nav-link:hover {
    color: var(--color-text);
  }

  .nav-link-active {
    color: var(--color-accent);
  }

  /* ── HEATMAP CELLS ──────────────────────────────────── */

  .heatmap-cell {
    @apply w-3 h-3 rounded-[2px] cursor-pointer;
    transition: transform 0.1s ease, box-shadow 0.1s ease;
  }

  .heatmap-cell:hover {
    transform: scale(1.25);
    box-shadow: 0 0 0 1px var(--color-accent);
  }

  /* Violet scheme — palette-native, default */
  .heatmap-cell[data-scheme="violet"][data-level="0"] { background-color: #3b252c; }
  .heatmap-cell[data-scheme="violet"][data-level="1"] { background-color: #5e3c4a; }
  .heatmap-cell[data-scheme="violet"][data-level="2"] { background-color: #8f6593; }
  .heatmap-cell[data-scheme="violet"][data-level="3"] { background-color: #aea4bf; }
  .heatmap-cell[data-scheme="violet"][data-level="4"] { background-color: #84e296; }

  /* Fire scheme */
  .heatmap-cell[data-scheme="fire"][data-level="0"] { background-color: #2d1b22; }
  .heatmap-cell[data-scheme="fire"][data-level="1"] { background-color: #4a1a0a; }
  .heatmap-cell[data-scheme="fire"][data-level="2"] { background-color: #8c250a; }
  .heatmap-cell[data-scheme="fire"][data-level="3"] { background-color: #d43d0f; }
  .heatmap-cell[data-scheme="fire"][data-level="4"] { background-color: #eb4511; }

  /* Ocean scheme */
  .heatmap-cell[data-scheme="ocean"][data-level="0"] { background-color: #2d1b22; }
  .heatmap-cell[data-scheme="ocean"][data-level="1"] { background-color: #0A3069; }
  .heatmap-cell[data-scheme="ocean"][data-level="2"] { background-color: #0969DA; }
  .heatmap-cell[data-scheme="ocean"][data-level="3"] { background-color: #54AEFF; }
  .heatmap-cell[data-scheme="ocean"][data-level="4"] { background-color: #80CCFF; }

  /* Forest scheme */
  .heatmap-cell[data-scheme="forest"][data-level="0"] { background-color: #2d1b22; }
  .heatmap-cell[data-scheme="forest"][data-level="1"] { background-color: #0E4429; }
  .heatmap-cell[data-scheme="forest"][data-level="2"] { background-color: #006D32; }
  .heatmap-cell[data-scheme="forest"][data-level="3"] { background-color: #26A641; }
  .heatmap-cell[data-scheme="forest"][data-level="4"] { background-color: #39D353; }

  /* ── ALERTS / STATUS ────────────────────────────────── */

  .alert-warning {
    @apply p-4 rounded-lg text-sm;
    background-color: rgba(232, 195, 122, 0.08);
    border: 1px solid rgba(232, 195, 122, 0.25);
    color: var(--color-warning);
  }

  .alert-error {
    @apply p-4 rounded-lg text-sm;
    background-color: rgba(255, 123, 123, 0.08);
    border: 1px solid rgba(255, 123, 123, 0.25);
    color: var(--color-error);
  }
}

@layer utilities {

  /* Scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar { display: none; }

  /* Subtle grid background */
  .bg-grid {
    background-image:
      linear-gradient(to right, rgba(174, 164, 191, 0.04) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(174, 164, 191, 0.04) 1px, transparent 1px);
    background-size: 40px 40px;
  }

  /* Accent glow */
  .glow-accent {
    box-shadow: 0 0 32px rgba(132, 226, 150, 0.12);
  }

  /* Animations */
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes bunny-hop {
    0%, 100% { transform: translateY(0); }
    50%       { transform: translateY(-4px); }
  }

  .animate-fade-in     { animation: fadeIn 0.5s ease-out both; }
  .animate-fade-in-up  { animation: fadeInUp 0.4s ease-out both; }

  /* Hover utilities */
  .hover-rise:hover {
    transform: translateY(-4px);
    transition: transform 0.2s ease;
  }
}
